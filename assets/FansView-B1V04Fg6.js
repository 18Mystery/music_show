import{_ as m,r as w,h as k,c as a,d as o,F as D,i as F,f as l,C as i,g as d,o as r,z as M,t as _,e as C,u as V,b as y}from"./index-Ci3PLr0-.js";import{_ as B}from"./backSearch-D-eDlE1G.js";const I={class:"concern"},N={class:"header"},S={class:"content"},$={class:"user"},b=["onClick"],x={class:"singer-img"},z=["src"],E={class:"right"},L={class:"info"},T={class:"singer-name"},q={class:"time"},K={class:"attention active"},O={class:"attention"},R={class:"message"},U={__name:"FansView",setup(j){const u=V(),f=localStorage.getItem("TOKEN"),n=w([]),v=s=>{const t=new Date(s),e=(new Date-t)/1e3;return e<60?s="刚刚":e<3600?s=Math.floor(e/60)+"分钟前":e<86400?s=Math.floor(e/3600)+"小时前":e<2592e3?s=Math.floor(e/86400)+"天前":e<31536e3?s=Math.floor(e/2592e3)+"月前":s=Math.floor(e/31536e3)+"年前",s},h=async()=>{await d.getFollowers({token:f}).then(s=>{if(s.code===200){for(let t of s.result.users)t.followed_at=v(t.followed_at);n.value=s.result.users,console.log("粉丝列表",n.value)}}).catch(s=>{console.log(s)})},g=s=>{u.push({name:"userDetail",params:{userId:s}})};return k(()=>{h()}),(s,t)=>{const c=y("van-icon");return r(),a("div",I,[o("div",N,[o("i",{onClick:t[0]||(t[0]=e=>s.$router.go(-1))},t[1]||(t[1]=[o("img",{src:B,alt:""},null,-1)])),t[2]||(t[2]=o("div",null,"粉丝",-1))]),o("div",S,[o("div",$,[o("ul",null,[(r(!0),a(D,null,F(n.value,(e,p)=>(r(),a("li",{key:p,onClick:A=>g(e.id)},[o("div",x,[o("img",{src:M(d).host+e.avatar_url,alt:""},null,8,z)]),o("div",E,[o("div",L,[o("div",T,_(e.name),1),o("div",q,_(e.followed_at)+" 关注了你~",1)]),l(o("div",K,[C(c,{size:"13",name:"plus"}),t[3]||(t[3]=o("p",null,"关注",-1))],512),[[i,!0]]),l(o("div",O,t[4]||(t[4]=[o("p",null,"已关注",-1)]),512),[[i,!1]])])],8,b))),128))])]),l(o("div",R,"暂无粉丝~",512),[[i,n.value.length===0]])])])}}},J=m(U,[["__scopeId","data-v-faca779b"]]);export{J as default};
